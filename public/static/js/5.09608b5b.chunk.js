(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[5],{50:function(e,t,a){"use strict";a.d(t,"c",(function(){return i})),a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return l})),a.d(t,"d",(function(){return r}));const i=()=>({type:"REQUIRE"}),n=e=>({type:"MINLENGTH",val:e}),l=()=>({type:"EMAIL"}),r=(e,t)=>{let a=!0;for(const i of t)"REQUIRE"===i.type&&(a=a&&e.trim().length>0),"MINLENGTH"===i.type&&(a=a&&e.trim().length>=i.val),"MAXLENGTH"===i.type&&(a=a&&e.trim().length<=i.val),"MIN"===i.type&&(a=a&&+e>=i.val),"MAX"===i.type&&(a=a&&+e<=i.val),"EMAIL"===i.type&&(a=a&&/^\S+@\S+\.\S+$/.test(e));return a}},51:function(e,t,a){"use strict";var i=a(0),n=a.n(i),l=a(50);a(52);const r=(e,t)=>{switch(t.type){case"CHANGE":return{...e,value:t.val,isValid:Object(l.d)(t.val,t.validators)};case"TOUCH":return{...e,isTouched:!0};default:return e}};t.a=e=>{const[t,a]=Object(i.useReducer)(r,{value:e.initialValue||"",isTouched:!1,isValid:e.initialValid||!1}),{id:l,onInput:c}=e,{value:s,isValid:u}=t;Object(i.useEffect)(()=>{c(l,s,u)},[l,s,u,c]);const o=t=>{a({type:"CHANGE",val:t.target.value,validators:e.validators})},d=()=>{a({type:"TOUCH"})},p="input"===e.element?n.a.createElement("input",{id:e.id,type:e.type,placeholder:e.placeholder,onChange:o,onBlur:d,value:t.value}):n.a.createElement("textarea",{id:e.id,rows:e.rows||3,onChange:o,onBlur:d,value:t.value});return n.a.createElement("div",{className:"form-control ".concat(!t.isValid&&t.isTouched&&"form-control--invalid")},n.a.createElement("label",{htmlFor:e.id},e.label),p,!t.isValid&&t.isTouched&&n.a.createElement("p",null,e.errorText))}},52:function(e,t,a){},53:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var i=a(0);const n=(e,t)=>{switch(t.type){case"INPUT_CHANGE":let a=!0;for(const i in e.inputs)e.inputs[i]&&(a=i===t.inputId?a&&t.isValid:a&&e.inputs[i].isValid);return{...e,inputs:{...e.inputs,[t.inputId]:{value:t.value,isValid:t.isValid}},isValid:a};case"SET_DATA":return{inputs:t.inputs,isValid:t.formIsValid};default:return e}},l=(e,t)=>{const[a,l]=Object(i.useReducer)(n,{inputs:e,isValid:t});return[a,Object(i.useCallback)((e,t,a)=>{l({type:"INPUT_CHANGE",value:t,isValid:a,inputId:e})},[]),Object(i.useCallback)((e,t)=>{l({type:"SET_DATA",inputs:e,formIsValid:t})},[])]}},56:function(e,t,a){},62:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return f}));var i=a(0),n=a.n(i),l=a(1),r=a(50),c=a(51),s=a(15),u=a(11),o=a(10),d=a(17),p=a(53),v=a(16),m=a(12);a(56);function f(){const e=Object(i.useContext)(m.a),[t,a,f]=Object(p.a)({title:{value:"",isValid:!0},description:{value:"",isValid:!0}},!0),{isLoading:E,error:h,http:b,clearErrorHandler:y}=Object(v.a)(),[V,T]=Object(i.useState)(null),I=Object(l.h)().placeId,O=Object(l.g)();Object(i.useEffect)(()=>{(async()=>{try{const{place:e}=await b("http://localhost:5001/api"+"/places/".concat(I));T(e),f({title:{value:e.title,isValid:!0},description:{value:e.description,isValid:!0}},!0)}catch(e){}})()},[I]);return V||h?E?n.a.createElement("div",{className:"center"},n.a.createElement(o.a,null)):n.a.createElement(n.a.Fragment,null,n.a.createElement(d.a,{error:h,onClear:y}),!E&&V&&n.a.createElement("form",{className:"place-form",onSubmit:async a=>{a.preventDefault();try{const{place:a}=await b("http://localhost:5001/api"+"/places/".concat(I),{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e.token},body:JSON.stringify({title:t.inputs.title.value,description:t.inputs.description.value})});O.push("/".concat(e.userId,"/places"))}catch(i){}}},n.a.createElement(c.a,{id:"title",element:"input",type:"text",label:"Title",validators:[Object(r.c)()],errorText:"Please enter a valid title.",onInput:a,initialValue:V.title,initialValid:!0}),n.a.createElement(c.a,{id:"description",element:"input",type:"textarea",label:"Description",validators:[Object(r.b)(5)],errorText:"Please enter a valid description (min 5 characters).",onInput:a,initialValue:V.description,initialValid:!0}),n.a.createElement(s.a,{type:"submit",disabled:!t.isValid},"Update Place"))):n.a.createElement("div",{className:"center"},n.a.createElement(u.a,null,n.a.createElement("h2",null,"Could not find place!")))}}}]);
//# sourceMappingURL=5.09608b5b.chunk.js.map