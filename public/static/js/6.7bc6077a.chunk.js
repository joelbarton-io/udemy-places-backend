(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[6],{57:function(e,a,t){},58:function(e,a,t){},59:function(e,a,t){},64:function(e,a,t){"use strict";t.r(a);var c=t(0),n=t.n(c),l=t(1),r=t(16),o=t(17),s=t(10),i=t(11),m=t(15),d=t(12),E=t(21);t(57);var p=e=>{const a=Object(c.useRef)(),{center:t,zoom:l}=e;return Object(c.useEffect)(()=>{const e=new window.google.maps.Map(a.current,{center:t,zoom:l});new window.google.maps.Marker({position:t,map:e})},[t,l]),n.a.createElement("div",{ref:a,className:"map ".concat(e.className),style:e.style})};t(58);var u=e=>{const a=Object(c.useContext)(d.a),{isLoading:t,error:l,http:u,clearErrorHandler:h}=Object(r.a)(),[f,g]=Object(c.useState)(!1),[v,C]=Object(c.useState)(!1),b=()=>g(!1),w=()=>C(!1);return n.a.createElement(n.a.Fragment,null,n.a.createElement(o.a,{error:l,onClear:h}),n.a.createElement(E.a,{show:f,onCancel:b,header:e.address,contentClass:"place-item__modal-content",footerClass:"place-item__modal-actions",footer:n.a.createElement(m.a,{onClick:b},"CLOSE")},n.a.createElement("div",{className:"map-container"},n.a.createElement(p,{center:e.coordinates,zoom:16}))),n.a.createElement(E.a,{show:v,onCancel:w,header:"Are you sure?",footerClass:"place-item__modal-actions",footer:n.a.createElement(n.a.Fragment,null,n.a.createElement(m.a,{inverse:!0,onClick:w},"CANCEL"),n.a.createElement(m.a,{danger:!0,onClick:async()=>{C(!1);try{await u("http://localhost:5001/api"+"/places/".concat(e.id),{method:"DELETE",headers:{Authorization:"Bearer "+a.token}}),e.onDelete(e.id)}catch(t){}}},"DELETE"))},n.a.createElement("p",null,"Do you want to proceed and delete this place? Please note that it cannot be undone thereafter")),n.a.createElement("li",{className:"place-item"},n.a.createElement(i.a,{className:"place-item__content"},t&&n.a.createElement(s.a,{asOverlay:!0}),n.a.createElement("div",{className:"place-item__image"},n.a.createElement("img",{src:"".concat("http://localhost:5001","/").concat(e.image),alt:e.title})),n.a.createElement("div",{className:"place-item__info"},n.a.createElement("h2",null,e.title),n.a.createElement("h3",null,e.address),n.a.createElement("p",null,e.description)),n.a.createElement("div",{className:"place-item__actions"},n.a.createElement(m.a,{inverse:!0,onClick:()=>g(!0)},"VIEW ON MAP"),a.userId===e.creatorId&&n.a.createElement(m.a,{to:"/places/".concat(e.id)},"EDIT"),a.userId===e.creatorId&&n.a.createElement(m.a,{danger:!0,onClick:()=>C(!0)},"DELETE")))))};t(59);var h=e=>0===e.items.length?n.a.createElement("div",{className:"place-list center"},n.a.createElement(i.a,null,n.a.createElement("h2",null,"No places found. Maybe create one?"),n.a.createElement(m.a,{to:"/places/new"},"Share Place"))):n.a.createElement("ul",{className:"place-list"},e.items.map(a=>n.a.createElement(u,{key:a.id,id:a.id,image:a.image,title:a.title,description:a.description,address:a.address,creatorId:a.creator,coordinates:a.location,onDelete:e.onDeletePlace})));a.default=()=>{const{http:e,isLoading:a,error:t,clearErrorHandler:i}=Object(r.a)(),[m,d]=Object(c.useState)(null),E=Object(l.h)().userId;Object(c.useEffect)(()=>{(async()=>{try{const{places:a}=await e("http://localhost:5001/api"+"/places/user/".concat(E));d(a)}catch(a){console.log({excepshun:a})}})()},[E]);return n.a.createElement(n.a.Fragment,null,n.a.createElement(o.a,{error:t,onClear:i}),null!==a&&void 0!==a?a:n.a.createElement("div",{className:"center"},n.a.createElement(s.a,{asOverlay:!0})),!a&&m&&n.a.createElement(h,{items:m,onDeletePlace:e=>{d(a=>a.filter(a=>a.id!==e))}}))}}}]);
//# sourceMappingURL=6.7bc6077a.chunk.js.map